<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="google-site-verification" content="5JztMFjgtrbhV0pe_cLh7EH3c0NJBY7sVrnd7x86pMI" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <meta name="author" content="Vikas Pogu">
  
  <meta name="description" content="Vikas Pogu&#39;s Blog">
  
  <meta name="keywords" content="blog,developer">

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Deleting a OpenShift project stuck in terminating state"/>
<meta name="twitter:description" content="Recently I was faced an issue where one of my project was stuck in terminating state for days. The workaround below fixed the issue.
Export OpenShift project as an JSON Object
oc get project delete-me -o json &gt; ns-without-finalizers.json Replace below from
spec: finalizers: - kubernetes to
spec: finalizers: [] On one of the master node, execute these commands.
kubectl proxy &amp; PID=$! curl -X PUT http://localhost:8001/api/v1/namespaces/delete-me/finalize \ -H &#34;Content-Type: application/json&#34; --data-binary @ns-without-finalizers."/>

  <meta property="og:title" content="Deleting a OpenShift project stuck in terminating state" />
<meta property="og:description" content="Recently I was faced an issue where one of my project was stuck in terminating state for days. The workaround below fixed the issue.
Export OpenShift project as an JSON Object
oc get project delete-me -o json &gt; ns-without-finalizers.json Replace below from
spec: finalizers: - kubernetes to
spec: finalizers: [] On one of the master node, execute these commands.
kubectl proxy &amp; PID=$! curl -X PUT http://localhost:8001/api/v1/namespaces/delete-me/finalize \ -H &#34;Content-Type: application/json&#34; --data-binary @ns-without-finalizers." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vikaspogu.dev/posts/project-terminating/" />
<meta property="article:published_time" content="2019-05-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-05-15T00:00:00+00:00" />


  
  <base href="https://vikaspogu.dev/posts/project-terminating/">
  
  <title>
  Deleting a OpenShift project stuck in terminating state Â· vikaspogu
</title>

  
  <link rel="canonical" href="https://vikaspogu.dev/posts/project-terminating/">
  

  <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700"
    rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css"
    integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

  
  
  
  <link rel="stylesheet" href="https://vikaspogu.dev/css/coder.min.28d751104f30c16da1aa1bb04015cbe662cacfe0d1b01af4f2240ad58580069c.css" integrity="sha256-KNdREE8wwW2hqhuwQBXL5mLKz&#43;DRsBr08iQK1YWABpw="
    crossorigin="anonymous" media="screen" />
  

  

  
  
  
  
  <link rel="stylesheet" href="https://vikaspogu.dev/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css" integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU="
    crossorigin="anonymous" media="screen" />
  
  

  

  

  <link rel="icon" type="image/png" href="https://vikaspogu.dev/images/favicon-32x32.png"
    sizes="32x32">
  <link rel="icon" type="image/png" href="https://vikaspogu.dev/images/favicon-16x16.png"
    sizes="16x16">

  <meta name="generator" content="Hugo 0.80.0" />
</head>






<body class="colorscheme-auto">
  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://vikaspogu.dev/">
      vikaspogu
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
      
      <li class="navigation-item">
        <a class="navigation-link" href="https://vikaspogu.dev/about/">About</a>
      </li>
      
      <li class="navigation-item">
        <a class="navigation-link" href="https://vikaspogu.dev/posts/">Blog</a>
      </li>
      
      
      
    </ul>
  </section>
</nav>
<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/vikaspogu.dev"
        },
        "articleSection" : "posts",
        "name" : "Deleting a OpenShift project stuck in terminating state",
        "headline" : "Deleting a OpenShift project stuck in terminating state",
        "description" : "Recently I was faced an issue where one of my project was stuck in terminating state for days. The workaround below fixed the issue.\nExport OpenShift project as an JSON Object\noc get project delete-me -o json \u0026gt; ns-without-finalizers.json Replace below from\nspec: finalizers: - kubernetes to\nspec: finalizers: [] On one of the master node, execute these commands.\nkubectl proxy \u0026amp; PID=$! curl -X PUT http:\/\/localhost:8001\/api\/v1\/namespaces\/delete-me\/finalize \\ -H \u0026#34;Content-Type: application\/json\u0026#34; --data-binary @ns-without-finalizers.",
        "inLanguage" : "en-US",
        "author" : "Vikas Pogu",
        "creator" : "Vikas Pogu",
        "publisher": "Vikas Pogu",
        "accountablePerson" : "Vikas Pogu",
        "copyrightHolder" : "Vikas Pogu",
        "copyrightYear" : "2019",
        "datePublished": "2019-05-15 00:00:00 \u002b0000 UTC",
        "dateModified" : "2019-05-15 00:00:00 \u002b0000 UTC",
        "url" : "https:\/\/vikaspogu.dev\/posts\/project-terminating\/",
        "wordCount" : "75",
        "keywords" : [ "OpenShift","Blog" ]
    }
    </script>

    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Deleting a OpenShift project stuck in terminating state</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2019-05-15T00:00:00Z'>
                May 15, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              One minute read
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://vikaspogu.dev/tags/openshift/">OpenShift</a></div>

        </div>
      </header>

      <div>
        <p>Recently I was faced an issue where one of my project was stuck in terminating state for days. The workaround below fixed the issue.</p>
<p>Export OpenShift project as an JSON Object</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">oc get project delete-me -o json &gt; ns-without-finalizers.json
</code></pre></div><p>Replace below from</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="font-weight:bold">spec</span>:
  <span style="font-weight:bold">finalizers</span>:
    - kubernetes
</code></pre></div><p>to</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="font-weight:bold">spec</span>:
  <span style="font-weight:bold">finalizers</span>: []
</code></pre></div><p>On one of the master node, execute these commands.</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl proxy &amp; PID=$!
curl -X PUT http://localhost:8001/api/v1/namespaces/delete-me/finalize <span style="color:#0ff;font-weight:bold">\
</span><span style="color:#0ff;font-weight:bold"></span>-H <span style="color:#0ff;font-weight:bold">&#34;Content-Type: application/json&#34;</span> --data-binary @ns-without-finalizers.json
<span style="color:#fff;font-weight:bold">kill</span> $PID
</code></pre></div>
      </div>

      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    
    
    
    
  </section>
</footer>

  </main>

  

</body>

</html>